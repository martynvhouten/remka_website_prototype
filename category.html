<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Assortiment – Remka B.V.</title>
    <meta name="description" content="Bekijk het complete assortiment en subcategorieën bij Remka B.V. Vind snel wat je zoekt." />
    <link rel="canonical" href="https://remka-prototype.netlify.app/category.html" />
    <meta property="og:title" content="Assortiment – Remka B.V." />
    <meta property="og:description" content="Professionele producten voor praktijk en lab. Snel geleverd." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://remka-prototype.netlify.app/category.html" />
    <meta property="og:image" content="/assets/images/placeholder-16x9.svg" />
    <meta name="theme-color" content="#9E0059" />
    <link rel="icon" type="image/svg+xml" href="/assets/images/logo-remka.svg" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = { theme: { extend: { colors: { brand: '#9E0059', accent: '#F77F00', teal: '#00A99D', dark: '#333333', light: '#E6E6E6' }, fontFamily: { sans: ['"Plus Jakarta Sans"','ui-sans-serif','system-ui','sans-serif'] } } } }
    </script>
    <link rel="stylesheet" href="/assets/css/base.css" />
  </head>
  <body class="min-h-screen flex flex-col">
    <div id="header-placeholder"></div>

    <main id="main" class="flex-1 container mx-auto px-4 py-10">
      <nav class="text-sm text-gray-700 breadcrumbs" aria-label="Breadcrumb">
        <ol class="flex flex-wrap items-center gap-2">
          <li><a href="/">Home</a></li>
          <li>›</li>
          <li><span id="crumbCat">Assortiment</span></li>
        </ol>
      </nav>

      <header class="mt-4 max-w-3xl">
        <h1 class="text-3xl font-extrabold tracking-tight" id="catTitle">Assortiment</h1>
        <p class="mt-2 text-gray-700">Selecteer een subcategorie of filter de lijst. De weergave is een demo.</p>
      </header>

      <!-- Filters -->
      <div class="mt-6 flex flex-wrap items-center gap-2" id="filterPills"></div>

      <!-- Sort & count -->
      <div class="mt-4 flex items-center justify-between">
        <div class="text-sm text-gray-600" id="resultCount">0 producten</div>
        <label class="text-sm text-gray-700 flex items-center gap-2">Sorteer:
          <select class="border border-gray-200 rounded-md px-2 py-1 text-sm" disabled aria-disabled="true">
            <option>Populair</option>
            <option>Prijs laag-hoog</option>
            <option>Prijs hoog-laag</option>
            <option>Nieuw</option>
          </select>
        </label>
      </div>

      <!-- Subcategorieën -->
      <section class="mt-6">
        <h2 class="text-xl font-bold">Subcategorieën</h2>
        <div id="subcatGrid" class="mt-4 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>
      </section>

      <!-- Product grid (dummy) -->
      <section class="mt-10">
        <h2 class="text-xl font-bold">Producten</h2>
        <div id="productGrid" class="mt-4 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>
      </section>
    </main>

    <div id="footer-placeholder"></div>
    <script src="/assets/js/menu.js" defer></script>
    <script src="/assets/js/index.js" defer></script>
    <script>
      // Category rendering: reads data/categories.json and renders first or requested category
      window.addEventListener('DOMContentLoaded', async () => {
        try {
          const res = await fetch('/data/categories.json', { cache: 'no-store' });
          const data = await res.json();
          const params = new URLSearchParams(window.location.search);
          const slug = params.get('c');
          const findCat = (nodes) => nodes.find(n => n.slug === slug) || nodes[0];
          const cat = findCat(data);
          document.getElementById('catTitle').textContent = cat.name;
          document.getElementById('crumbCat').textContent = cat.name;

          // Pills from children names
          const pills = document.getElementById('filterPills');
          (cat.children || []).forEach(ch => {
            const b = document.createElement('button');
            b.className = 'px-3 py-1.5 rounded-full border border-gray-200 text-sm hover:border-brand';
            b.textContent = ch.name;
            pills.appendChild(b);
          });

          // Subcategories grid
          const subGrid = document.getElementById('subcatGrid');
          (cat.children || []).forEach(ch => {
            const a = document.createElement('a');
            a.href = `/category.html?c=${encodeURIComponent(ch.slug)}`;
            a.className = 'card card--hover p-4 flex flex-col items-center text-center';
            a.innerHTML = `<img src="/assets/images/placeholder-square.svg" alt="${ch.name}" loading="lazy" class="rounded-md border border-gray-200" /><span class="mt-3 font-medium">${ch.name}</span>`;
            subGrid.appendChild(a);
          });

          // Dummy products grid (12 items)
          const grid = document.getElementById('productGrid');
          const products = Array.from({ length: 12 }).map((_, i) => ({
            brand: ['Remka','Medico','CleanLab','ThermoCheck'][i % 4],
            title: ['Nitril handschoenen blauw – M','Alcohol 70% 1L','Steriele gaaskompressen 10x10','Digitale thermometer'][i % 4],
            price: ['€ 12,95','€ 8,75','€ 5,40','€ 14,50'][i % 4]
          }));
          products.forEach(p => {
            const a = document.createElement('a');
            a.href = '/product.html';
            a.className = 'card card--hover p-4 flex flex-col';
            a.innerHTML = `
              <img src="/assets/images/placeholder-4x3.svg" alt="Productafbeelding" loading="lazy" class="rounded-md border border-gray-200" />
              <div class="mt-3 text-sm text-gray-600">${p.brand}</div>
              <h3 class="mt-1 font-semibold text-dark">${p.title}</h3>
              <div class="mt-2 font-semibold">${p.price}</div>
            `;
            grid.appendChild(a);
          });
          document.getElementById('resultCount').textContent = `${products.length} producten`;
        } catch (e) {
          // Fallback minimal
          document.getElementById('catTitle').textContent = 'Assortiment';
        }
      });
    </script>
  </body>
  </html>


