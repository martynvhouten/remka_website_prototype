<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Winkelwagen – Remka B.V.</title>
    <meta name="description" content="Bekijk en beheer je winkelwagen bij Remka B.V." />
    <link rel="canonical" href="https://remka-prototype.netlify.app/cart.html" />
    <meta property="og:title" content="Winkelwagen – Remka B.V." />
    <meta property="og:description" content="Overzicht van je geselecteerde producten." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://remka-prototype.netlify.app/cart.html" />
    <meta property="og:image" content="/assets/images/placeholder-16x9.svg" />
    <meta name="theme-color" content="#9E0059" />
    <link rel="icon" type="image/svg+xml" href="/assets/images/logo-remka.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="/assets/css/tailwind.css" />
    <link rel="stylesheet" href="/assets/css/base.css" />
    
  </head>
  <body class="min-h-screen flex flex-col">
    <div id="header-placeholder"></div>
    <main id="main" class="flex-1 container mx-auto px-4 py-10">
      <header class="mb-6">
        <h1 class="text-2xl md:text-3xl font-extrabold tracking-tight">Winkelwagen</h1>
        <p class="section-subtitle">Hier zie je een voorbeeld van je winkelwagenpagina.</p>
      </header>
      <!-- Summary first on mobile, items first on desktop (Hyvä pattern) -->
      <div class="grid lg:grid-cols-3 gap-6 lg:gap-8 items-start">
        <!-- Summary card (sticky on desktop) -->
        <aside class="lg:order-2 lg:col-span-1">
          <div class="card p-4 lg:p-5 sticky-summary" id="cartSummary">
            <!-- Estimate shipping & tax -->
            <div class="border-b border-light pb-3 mb-3">
              <button type="button" class="w-full flex items-center justify-between text-left font-semibold" data-acc="toggle" aria-expanded="false" aria-controls="shipPanel">
                <span>Verzendkosten en btw berekenen</span>
                <svg class="w-5 h-5 text-dark/70 transition-transform" data-acc="chev" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clip-rule="evenodd"/></svg>
              </button>
              <div id="shipPanel" class="mt-3 accordion-panel" hidden>
                <div class="grid grid-cols-1 gap-2">
                  <label class="text-sm" for="shipCountry">Land</label>
                  <select id="shipCountry" class="select">
                    <option>Nederland</option>
                    <option>België</option>
                    <option>Duitsland</option>
                  </select>
                  <label class="text-sm" for="shipZip">Postcode</label>
                  <input id="shipZip" class="input" placeholder="1234 AB" />
                </div>
                <div class="mt-3 space-y-2 text-sm">
                  <div class="flex items-center justify-between"><span>Standaard verzending</span><span class="font-semibold">€5,00</span></div>
                  <div class="flex items-center justify-between"><span>Pakketpost</span><span class="font-semibold">€7,50</span></div>
                </div>
              </div>
            </div>

            <!-- Coupon accordion (preserve IDs/handlers) -->
            <div class="border-b border-light pb-3 mb-3">
              <button type="button" class="w-full flex items-center justify-between text-left font-semibold" data-acc="toggle" aria-expanded="false" aria-controls="couponPanel">
                <span>Kortingscode</span>
                <svg class="w-5 h-5 text-dark/70 transition-transform" data-acc="chev" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clip-rule="evenodd"/></svg>
              </button>
              <div id="couponPanel" class="mt-3 accordion-panel" hidden>
                <label for="coupon" class="block text-sm font-medium">Voer kortingscode in</label>
                <div class="mt-1 flex gap-2">
                  <input id="coupon" class="input" placeholder="Voer coupon in" />
                  <button id="applyCoupon" class="btn btn-outline" type="button">Pas toe</button>
                </div>
                <p id="couponNote" class="text-sm text-dark/70 mt-1 hidden">Coupon toegepast.</p>
              </div>
            </div>

            <!-- Totals -->
            <div class="space-y-1">
              <div class="flex items-center justify-between"><span>Subtotaal</span><span class="font-semibold">€ <span id="subTotal">8,75</span></span></div>
              <div class="flex items-center justify-between text-sm text-dark/70"><span>Btw (indicatie)</span><span>€ <span id="taxTotal">1,84</span></span></div>
              <div class="divider my-2"></div>
              <div class="flex items-center justify-between text-lg font-extrabold"><span>Totaal</span><span>€ <span id="grandTotal">10,59</span></span></div>
            </div>

            <!-- CTA -->
            <div class="mt-4 space-y-2">
              <a href="/checkout-shipping.html" class="btn btn-brand w-full" id="proceedToCheckout">Afrekenen</a>
              <a href="/category.html" class="link-cta block text-center">Verder winkelen</a>
            </div>
          </div>
        </aside>

        <!-- Items list -->
        <section class="lg:order-1 lg:col-span-2" id="cartItems">
          <div class="card">
            <!-- Row header for md+ only -->
            <div class="hidden md:grid grid-cols-[auto,1fr,auto,auto,auto,auto] items-center gap-4 px-4 pt-4 pb-2 text-sm text-dark/60">
              <div></div>
              <div>Item</div>
              <div class="text-right">Prijs</div>
              <div class="text-center">Aantal</div>
              <div class="text-right">Subtotaal</div>
              <div class="sr-only">Acties</div>
            </div>
            <div class="divider"></div>
            <!-- Example line item -->
            <div class="grid grid-cols-[auto,1fr] md:grid-cols-[auto,1fr,auto,auto,auto,auto] items-center gap-4 px-4 py-4 border-b border-light last:border-b-0" data-item data-price="8.75">
              <img src="/assets/images/Products/Hartmann/42080_43.webp" alt="Productafbeelding" class="w-20 h-20 object-cover rounded-md border border-light" />
              <div class="min-w-0">
                <h2 class="font-semibold truncate">Hartmann 42080</h2>
                <div class="text-sm text-dark/70">Artikelnummer: DEMO-42080</div>
                <!-- Mobile controls -->
                <div class="mt-3 flex md:hidden items-center gap-3">
                  <label class="text-sm" for="qty1">Aantal</label>
                  <input id="qty1" type="number" value="1" min="1" class="w-20 input" data-qty aria-label="Aantal" />
                  <button class="text-sm text-brand" data-remove aria-label="Verwijder item">Verwijderen</button>
                </div>
              </div>
              <div class="hidden md:block text-right whitespace-nowrap">€ <span data-unit-price>8,75</span></div>
              <div class="hidden md:flex items-center justify-center">
                <label class="sr-only" for="qty1-md">Aantal</label>
                <input id="qty1-md" type="number" value="1" min="1" class="w-20 input" data-qty aria-label="Aantal" />
              </div>
              <div class="hidden md:block text-right font-semibold whitespace-nowrap">€ <span data-line-total>8,75</span></div>
              <div class="hidden md:flex items-center justify-end">
                <button class="text-sm text-brand" data-remove aria-label="Verwijder item">Verwijderen</button>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>
    <div id="footer-placeholder"></div>
    <script src="/assets/js/nav.js" defer></script>
    <script src="/assets/js/index.js" defer></script>
    <script>
      // Basic cart UI interactions (client-only)
      function fmt(n){ return (Number(n)||0).toFixed(2).replace('.', ','); }
      function recalc(){
        var items = document.querySelectorAll('[data-item]');
        var subtotal = 0;
        items.forEach(function(row){
          var price = Number(row.getAttribute('data-price')||'0');
          // Fill unit price text if present
          var unitEl = row.querySelector('[data-unit-price]'); if(unitEl) unitEl.textContent = fmt(price);
          // Sync when there are two qty inputs in one row (mobile/desktop)
          var qtyInputs = row.querySelectorAll('[data-qty]');
          var qty = Number((qtyInputs[0]||{}).value || '1');
          qtyInputs.forEach(function(i){ if(i !== qtyInputs[0]) i.value = qty; });
          var line = price * qty; subtotal += line;
          var lineEl = row.querySelector('[data-line-total]'); if(lineEl) lineEl.textContent = fmt(line);
        });
        var tax = subtotal * 0.21; var grand = subtotal + tax;
        var sEl = document.getElementById('subTotal'); if(sEl) sEl.textContent = fmt(subtotal);
        var tEl = document.getElementById('taxTotal'); if(tEl) tEl.textContent = fmt(tax);
        var gEl = document.getElementById('grandTotal'); if(gEl) gEl.textContent = fmt(grand);
      }
      document.addEventListener('input', function(e){ if(e.target && e.target.matches('[data-qty]')) recalc(); });
      document.addEventListener('click', function(e){ var btn = e.target.closest('[data-remove]'); if(!btn) return; var row = btn.closest('[data-item]'); if(row){ row.parentNode.removeChild(row); recalc(); }});
      document.getElementById('applyCoupon')?.addEventListener('click', function(){ var note = document.getElementById('couponNote'); if(note) note.classList.remove('hidden'); });
      
      // Accordion logic (estimate + coupon)
      document.querySelectorAll('[data-acc="toggle"]').forEach(function(btn){
        btn.addEventListener('click', function(){
          var controls = btn.getAttribute('aria-controls');
          var panel = controls && document.getElementById(controls);
          if(!panel) return;
          var expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!expanded));
          var icon = btn.querySelector('[data-acc="chev"]'); if(icon){ icon.style.transform = expanded ? '' : 'rotate(180deg)'; }
          if(!expanded){ panel.hidden = false; panel.style.maxHeight = panel.scrollHeight + 'px'; }
          else { panel.style.maxHeight = panel.scrollHeight + 'px'; requestAnimationFrame(function(){ panel.style.maxHeight = '0px'; }); panel.addEventListener('transitionend', function onEnd(){ panel.hidden = true; panel.removeEventListener('transitionend', onEnd); }, { once: true }); }
        });
      });
      
      // Sticky offset equal to header height (+16px)
      (function(){
        try {
          var header = document.getElementById('site-header');
          var summary = document.getElementById('cartSummary');
          if(header && summary){
            var setTop = function(){ var h = header.offsetHeight || 80; summary.style.setProperty('--sticky-offset', (h + 16) + 'px'); };
            setTop();
            window.addEventListener('resize', setTop, { passive: true });
          }
        } catch(_) {}
      })();
      
      recalc();
    </script>
  </body>
  </html>


